<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èµ¤å£ä¹‹æˆ˜ï¼šå²å®ä¸æ¼”ä¹‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', 'Noto Serif SC', serif;
            background-color: #00425A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flowchart-node {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid #1F8A70;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
        }
        .flowchart-arrow {
            color: #BFDB38;
            font-size: 2rem;
            line-height: 1;
            margin: 0.5rem 0;
        }
        .stat-card h3 {
            color: #BFDB38;
        }
    </style>
</head>
<body class="text-gray-200">

    <main class="container mx-auto p-4 md:p-8">
        
        <header class="text-center my-8 md:my-12">
            <h1 class="text-4xl md:text-6xl font-bold text-white tracking-wider">èµ¤å£ä¹‹æˆ˜</h1>
            <h2 class="text-xl md:text-2xl text-[#BFDB38] mt-2">The Battle of Red Cliffs: Fact vs. Fiction</h2>
        </header>

        <section id="intro" class="mb-12">
            <div class="max-w-4xl mx-auto bg-white/10 p-6 rounded-lg shadow-xl">
                <p class="text-lg text-center">å…¬å…ƒ208å¹´ï¼Œä¸€åœºå†³å®šä¸­å›½æœªæ¥æ•°åå¹´å‘½è¿çš„å¤§æˆ˜åœ¨é•¿æ±Ÿä¹‹ä¸Šçˆ†å‘ã€‚æ›¹æ“ï¼ŒæŒŸç»Ÿä¸€åŒ—æ–¹ä¹‹å¨å—ä¸‹ï¼Œæ„å›¾ä¸€ä¸¾è¡å¹³æ±Ÿå—ï¼Œå®Œæˆç»Ÿä¸€å¤§ä¸šã€‚ç„¶è€Œï¼Œåœ¨èµ¤å£ï¼Œä»–é­é‡äº†å­™æƒä¸åˆ˜å¤‡è”å†›çš„é¡½å¼ºæŠµæŠ—ã€‚è¿™åœºæˆ˜å½¹ä¸ä»…æ˜¯å†›äº‹ä¸Šçš„å¯¹å†³ï¼Œæ›´åœ¨åä¸–çš„æ–‡å­¦ä½œå“ã€Šä¸‰å›½æ¼”ä¹‰ã€‹ä¸­ï¼Œè¢«æ¼”ç»æˆä¸€å‡ºå……æ»¡æ™ºæ…§ã€è®¡è°‹ä¸ä¼ å¥‡è‰²å½©çš„å²è¯—ã€‚æœ¬å›¾æ—¨åœ¨è§£æ„å†å²çš„çœŸå®ä¸æ–‡å­¦çš„è™šæ„ï¼Œæ¢å¯»èµ¤å£ä¹‹æˆ˜çš„çœŸç›¸ã€‚</p>
            </div>
        </section>

        <section id="comparison" class="mb-12">
            <h2 class="text-3xl font-bold text-center text-white mb-8">æ™ºè°‹å¯¹å†³ï¼šå²å® vs. æ¼”ä¹‰</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                
                <div class="stat-card bg-white/10 p-6 rounded-lg shadow-xl flex flex-col">
                    <h3 class="text-2xl font-bold mb-4 text-center">å…µåŠ›å¯¹æ¯”çš„çœŸç›¸ä¸å¤¸å¼ </h3>
                    <p class="mb-4 flex-grow">ã€Šä¸‰å›½æ¼”ä¹‰ã€‹æå¤§åœ°å¤¸å¼ äº†æ›¹æ“çš„å…µåŠ›ä»¥å‡¸æ˜¾è”å†›èƒœåˆ©çš„æ¥ä¹‹ä¸æ˜“ã€‚å²å®ä¸­çš„å…µåŠ›å·®è·è™½ç„¶ä¾æ—§æ‚¬æ®Šï¼Œä½†å¹¶éå°è¯´ä¸­æç»˜çš„é‚£èˆ¬æ¯«æ— èƒœç®—ã€‚</p>
                    <div class="chart-container">
                        <canvas id="forceComparisonChart"></canvas>
                    </div>
                </div>

                <div class="stat-card bg-white/10 p-6 rounded-lg shadow-xl flex flex-col">
                    <h3 class="text-2xl font-bold mb-4 text-center">æ›¹æ“è´¥å› ï¼šå¤©ç¾ vs. äººç¥¸</h3>
                    <p class="mb-4 flex-grow">å†å²è®°è½½ï¼Œå¸­å·æ›¹è¥çš„ç˜Ÿç–«ï¼ˆç–¾ç–«ï¼‰æ˜¯å¯¼è‡´å…¶æˆ˜æ–—åŠ›é”å‡çš„å…³é”®å› ç´ ï¼Œé‡è¦æ€§ç”šè‡³ä¸äºšäºå†›äº‹å†³ç­–ã€‚è€Œå°è¯´åˆ™å°†å¤±è´¥å®Œå…¨å½’å’äºè”å†›çš„æ™ºè°‹ï¼Œå°¤å…¶æ˜¯è¯¸è‘›äº®ä¸åºç»Ÿçš„è®¡ç­–ã€‚</p>
                     <div class="chart-container">
                        <canvas id="decisiveFactorsChart"></canvas>
                    </div>
                </div>

                <div class="stat-card lg:col-span-2 bg-white/10 p-6 rounded-lg shadow-xl">
                    <h3 class="text-2xl font-bold mb-4 text-center">å…³é”®è®¡ç­–çš„çœŸæ­£ç­–åˆ’è€…</h3>
                    <p class="mb-4">å°è¯´å°†èµ¤å£ä¹‹æˆ˜çš„èƒœåˆ©å½’åŠŸäºè¯¸è‘›äº®å’Œåºç»Ÿçš„å¤©æ‰è®¡è°‹ã€‚ç„¶è€Œï¼Œå†å²çš„çœŸç›¸æ˜¯ï¼Œè®¸å¤šå…³é”®å†³ç­–çš„åˆ¶å®šè€…å¦æœ‰å…¶äººï¼Œç”šè‡³æœ‰äº›æ˜¯æ›¹æ“è‡ªå·±ä¸ºè§£å†³ç°å®é—®é¢˜è€Œé‡‡å–çš„æªæ–½ã€‚</p>
                    <div class="overflow-x-auto">
                        <table class="w-full min-w-max text-left">
                            <thead>
                                <tr class="border-b border-gray-500">
                                    <th class="p-2">å…³é”®äº‹ä»¶</th>
                                    <th class="p-2 text-[#FC7300]">å²å®è®°è½½ (History)</th>
                                    <th class="p-2 text-[#1F8A70]">å°è¯´æ¼”ä¹‰ (Fiction)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-gray-600">
                                    <td class="p-2 font-semibold">è¿ç¯èˆ¹ (Chaining the Boats)</td>
                                    <td class="p-2">æ›¹æ“ä¸ºè§£å†³åŒ—æ–¹å£«å…µæ™•èˆ¹é—®é¢˜è‡ªè¡Œå†³ç­–ã€‚</td>
                                    <td class="p-2">åºç»Ÿä¸ºé…åˆç«æ”»çŒ®ä¸Šçš„â€œè¿ç¯è®¡â€ã€‚</td>
                                </tr>
                                <tr class="border-b border-gray-600">
                                    <td class="p-2 font-semibold">ç«æ”»è®¡ (The Fire Attack)</td>
                                    <td class="p-2">ç”±ä¸œå´è€å°†é»„ç›–æå‡ºå¹¶æ‰§è¡Œã€‚</td>
                                    <td class="p-2">å‘¨ç‘œå®šè®¡ï¼Œè¯¸è‘›äº®ååŠ©ï¼Œé»„ç›–ä¸Šæ¼”â€œè‹¦è‚‰è®¡â€ã€‚</td>
                                </tr>
                                <tr>
                                    <td class="p-2 font-semibold">å€Ÿä¸œé£ (The East Wind)</td>
                                    <td class="p-2">ç­‰å¾…å¹¶åˆ©ç”¨å†¬å­£å¶å‘çš„æ°”è±¡ç°è±¡ã€‚</td>
                                    <td class="p-2">è¯¸è‘›äº®è®¾å›ä½œæ³•ï¼Œä»¥é“æœ¯â€œå€Ÿâ€æ¥ä¸œå—é£ã€‚</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="flow" class="mb-12">
            <div class="stat-card bg-white/10 p-6 rounded-lg shadow-xl">
                 <h3 class="text-2xl font-bold mb-4 text-center">ä¹Œæ—ç«æµ·ï¼šä¸€åœºç²¾å¿ƒç­–åˆ’çš„æ”»å‡»</h3>
                 <p class="text-center mb-6 max-w-3xl mx-auto">çœŸå®çš„ç«æ”»æ˜¯ä¸€åœºç»“åˆäº†æƒ…æŠ¥ã€æ¬ºè¯ˆã€æ°”è±¡å­¦å’ŒååŒä½œæˆ˜çš„å®Œç¾å†›äº‹è¡ŒåŠ¨ã€‚ä»¥ä¸‹æ˜¯å…¶å…³é”®æ­¥éª¤ï¼š</p>
                 <div class="flex flex-col items-center">
                    <div class="flowchart-node">
                        <span class="font-bold">1. æ´æ‚‰å¼±ç‚¹</span><br>é»„ç›–å‘ç°æ›¹å†›æˆ˜èˆ¹ç›¸è¿ï¼Œåˆ©äºç«æ”»ã€‚
                    </div>
                    <div class="flowchart-arrow">â†“</div>
                    <div class="flowchart-node">
                        <span class="font-bold">2. è¯ˆé™è®¡åˆ’</span><br>é»„ç›–æ´¾å‡ºèˆ¹é˜Ÿä¼ªè£…æŠ•é™ï¼Œéº»ç—¹æ›¹å†›ã€‚
                    </div>
                    <div class="flowchart-arrow">â†“</div>
                     <div class="flowchart-node">
                        <span class="font-bold">3. ç­‰å¾…å¤©æ—¶</span><br>è”å†›ç­‰å¾…å†¬å­£ç½•è§çš„ä¸œå—é£åˆ®èµ·ã€‚
                    </div>
                    <div class="flowchart-arrow">â†“</div>
                    <div class="flowchart-node" style="border-color: #FC7300;">
                        <span class="font-bold text-[#FC7300]">4. è‡´å‘½ä¸€å‡» ğŸ”¥</span><br>ç«èˆ¹å€Ÿé£åŠ¿å†²å…¥æ›¹å†›èˆ°é˜Ÿï¼Œç‚¹ç‡ƒè¿ç¯èˆ¹ã€‚
                    </div>
                    <div class="flowchart-arrow">â†“</div>
                    <div class="flowchart-node">
                        <span class="font-bold">5. å…¨é¢è¿›æ”»</span><br>å­™åˆ˜è”å†›æ°´é™†å¹¶è¿›ï¼Œæ‰©å¤§æˆ˜æœï¼Œé”å®šèƒœå±€ã€‚
                    </div>
                 </div>
            </div>
        </section>

        <section id="impact" class="mb-12">
            <h2 class="text-3xl font-bold text-center text-white mb-8">å¤©ä¸‹ä¸‰åˆ†ï¼šèµ¤å£çš„å†å²å›å“</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="stat-card bg-white/10 p-6 rounded-lg shadow-xl flex flex-col">
                    <h3 class="text-2xl font-bold mb-4 text-center">ä¸‰å›½é¼ç«‹æ ¼å±€çš„è¯ç”Ÿ</h3>
                    <p class="mb-4 flex-grow">èµ¤å£ä¹‹æˆ˜å½»åº•é˜»æ–­äº†æ›¹æ“çš„ç»Ÿä¸€è¿›ç¨‹ï¼Œä¸ºå­™æƒå’Œåˆ˜å¤‡èµ¢å¾—äº†å®è´µçš„æˆ˜ç•¥ç©ºé—´ã€‚æˆ˜åï¼Œä¸€ä¸ªç›¸å¯¹ç¨³å®šçš„ä¸‰æ–¹å¯¹å³™å±€é¢å½¢æˆï¼Œå¼€å¯äº†é•¿è¾¾åŠä¸ªä¸–çºªçš„ä¸‰å›½æ—¶ä»£ã€‚</p>
                    <div class="chart-container">
                        <canvas id="threeKingdomsChart"></canvas>
                    </div>
                </div>
                <div class="stat-card bg-white/10 p-6 rounded-lg shadow-xl text-center">
                    <h3 class="text-2xl font-bold mb-4">å‘½è¿çš„è½¬æŠ˜ç‚¹</h3>
                    <div class="space-y-6">
                        <div>
                            <h4 class="text-5xl font-bold text-[#1F8A70]">å­™æƒ</h4>
                            <p class="mt-2">å·©å›ºäº†æ±Ÿä¸œçš„ç»Ÿæ²»ï¼Œä¸ºå»ºç«‹ä¸œå´æ”¿æƒå¥ å®šäº†åšå¦‚ç£çŸ³çš„åŸºç¡€ã€‚</p>
                        </div>
                        <hr class="border-gray-600">
                        <div>
                           <h4 class="text-5xl font-bold text-[#1F8A70]">åˆ˜å¤‡</h4>
                           <p class="mt-2">ä»å¯„äººç¯±ä¸‹çš„å®¢å°†ï¼Œä¸€è·ƒæˆä¸ºæ‹¥æœ‰è†å·å—éƒ¨å››éƒ¡çš„å®åŠ›æ´¾ï¼Œè·å¾—äº†å»ºç«‹èœ€æ±‰çš„æˆ˜ç•¥è·³æ¿ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center mt-12 py-6 border-t border-gray-700">
            <p>èµ¤å£ä¹‹æˆ˜çš„é­…åŠ›åœ¨äºï¼Œå®ƒå®Œç¾å±•ç¤ºäº†å†å²äº‹å®å¦‚ä½•è¢«æ–‡å­¦å™äº‹é‡å¡‘ï¼Œæœ€ç»ˆæˆä¸ºä¸æœ½çš„æ–‡åŒ–è®°å¿†ã€‚</p>
            <div class="flex justify-center space-x-4 text-3xl mt-4">
                <span>ğŸ­</span>
                <span>ğŸ¬</span>
                <span>ğŸ®</span>
            </div>
        </footer>

    </main>

    <script>
        const wrapText = (text, maxLength) => {
            if (text.length <= maxLength) return text;
            const words = text.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).length > maxLength) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine += (currentLine ? ' ' : '') + word;
                }
            }
            lines.push(currentLine);
            return lines;
        };

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };
        
        const chartColors = {
            caoCao: '#FC7300',
            allies: '#1F8A70',
            wei: '#FC7300',
            shu: '#1F8A70',
            wu: '#00AEEF',
            factor1: '#FC7300',
            factor2: '#BFDB38',
            factor3: '#1F8A70',
            gridColor: 'rgba(255, 255, 255, 0.2)',
            textColor: '#F5F5F5'
        };

        const forceCtx = document.getElementById('forceComparisonChart').getContext('2d');
        new Chart(forceCtx, {
            type: 'bar',
            data: {
                labels: ['å²å® (History)', 'æ¼”ä¹‰ (Fiction)'],
                datasets: [
                    {
                        label: 'æ›¹æ“å†› (Cao Cao)',
                        data: [230000, 830000],
                        backgroundColor: chartColors.caoCao,
                        borderColor: chartColors.caoCao,
                        borderWidth: 1
                    },
                    {
                        label: 'å­™åˆ˜è”å†› (Allies)',
                        data: [50000, 50000],
                        backgroundColor: chartColors.allies,
                        borderColor: chartColors.allies,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                plugins: {
                    legend: { labels: { color: chartColors.textColor } },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: { 
                            color: chartColors.textColor,
                            callback: function(value) {
                                return value / 10000 + 'ä¸‡';
                            }
                        },
                        grid: { color: chartColors.gridColor }
                    },
                    x: {
                        ticks: { color: chartColors.textColor },
                        grid: { color: chartColors.gridColor }
                    }
                }
            }
        });

        const factorsCtx = document.getElementById('decisiveFactorsChart').getContext('2d');
        new Chart(factorsCtx, {
            type: 'doughnut',
            data: {
                labels: ['ç˜Ÿç–« (Plague)', 'ä¸ä¹ æ°´æˆ˜ (Naval Inexperience)', 'è”å†›è®¡ç­– (Allied Strategy)'],
                datasets: [{
                    label: 'æ›¹æ“è´¥å›  (å²å®)',
                    data: [45, 30, 25],
                    backgroundColor: [chartColors.factor1, chartColors.factor2, chartColors.factor3],
                    hoverOffset: 4
                }]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { color: chartColors.textColor }
                    },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });

        const kingdomsCtx = document.getElementById('threeKingdomsChart').getContext('2d');
        new Chart(kingdomsCtx, {
            type: 'pie',
            data: {
                labels: [wrapText('é­ (Wei) - æ›¹æ“', 16), wrapText('èœ€ (Shu) - åˆ˜å¤‡', 16), wrapText('å´ (Wu) - å­™æƒ', 16)],
                datasets: [{
                    label: 'å¤©ä¸‹ä¸‰åˆ†åŠ¿åŠ›',
                    data: [45, 25, 30],
                    backgroundColor: [chartColors.wei, chartColors.shu, chartColors.wu],
                    hoverOffset: 4
                }]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                 plugins: {
                    legend: { 
                        position: 'top',
                        labels: { color: chartColors.textColor }
                     },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            }
        });
    </script>
</body>
</html>
